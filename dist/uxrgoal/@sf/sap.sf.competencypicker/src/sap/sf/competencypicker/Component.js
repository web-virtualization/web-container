sap.ui.define(["jquery.sap.global","sap/ui/core/UIComponent","sap/m/Button","sap/ui/model/json/JSONModel","sap/sf/competencypicker/controls/CompetencyPicker","sap/ui/Device"],function(e,t,o,i,n,s){"use strict";var a=t.extend("sap.sf.competencypicker.Component",{metadata:{manifest:"json",properties:{inputParam:{type:"object",defaultValue:{}},inputTitle:{type:"object",defaultValue:{}}},events:{competenciesSelected:{parameters:{selectedItems:{type:"object"}}}}}});a.prototype.init=function(){var e={selectedIds:[],filterByCompetencyDetails:{competencyIds:[],behaviorIds:[],libraryCategoryMap:[],locale:"en_US"},allowUserToChangeSelection:true,useBehavior:false,showByRolesTab:false,selectionByCoreCompetency:false};var o;if(this.getComponentData()){var n=this.getComponentData().inputParam;if(n){for(const[t,o]of Object.entries(e)){if(!n.hasOwnProperty(t)){n[t]=o}}this.setInputParam(n)}else{this.setInputParam(e)}if(this.getComponentData().inputTitle){this.setInputTitle(this.getComponentData().inputTitle)}}else{this.setInputParam(e)}t.prototype.init.apply(this,arguments);o=new i({selectedCompetencies:[]});o.setDefaultBindingMode("OneWay");this.setModel(o,"device")};a.prototype.createContent=function(){var e,t;e=this._getCompetencyPickerDialog();return e};a.prototype.onOpenPickerDialog=function(){var e=this._getCompetencyPickerDialog();e.createDialog()};a.prototype.onItemsSelected=function(e){var t=e.getParameter("selectedItems");var o=[];t.forEach(e=>{var t={id:"",name:"",roleId:""};t.id=e.internalId;t.name=e.name;t.roleId=e.roleId;o.push(t)});this.getModel("device").oData.selectedCompetencies=o;this.fireCompetenciesSelected({selectedItems:o})};a.prototype._getCompetencyPickerDialog=function(){if(!this._oTSD){var e=this.getComponentData();this._oTSD=new n;this._oTSD.setInputParam(this.getInputParam());this._oTSD.setInputTitle(this.getInputTitle());this._oTSD.setResourceBundle(this.getModel("i18n").getResourceBundle());this._oTSD.attachItemsSelected(this.onItemsSelected.bind(this))}return this._oTSD};return a});