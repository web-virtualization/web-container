sap.ui.define('sap/sf/surj/shell/util/Config',['jquery.sap.global','sap/sf/surj/shell/util/Logger'],function($,L){var p='sap.sf.surj.shell.util';var u=$.sap.getObject(p);var C=u.Config=function(o,i,n){var q=s({},o||{});if(i){for(var r in i){if(!o||typeof o[r]=='undefined'){q[r]=i[r];}}}if(n){var t=[];if(!C.validate(q,n,t)){t.forEach(function(w){L.error.apply(L,w);});assert(false,'Config: There was at least one error');}}s(this,q);};C.convertArguments=function(i,o,n,q){var r={};o.forEach(function(w,x){r[w]=i[x];});if(i.length==1&&i[0]!=null){var t=i[0];if(q&&!v(r,n,q)){r=t;}else if(b(t)&&(!q||v(t,n,q))){throw new Error("configArgs called with one argument, but the validation was not strict enough. "+"Make sure to add at some validation");}}return new C(r,n,q);};C.validate=u.validate=function(i,t,n){var r=false;switch(typeof t){case'string':switch(t){case'*':r=f(i,n);break;case'string':case'number':case'object':case'undefined':case'boolean':case'function':r=g(i,t,n);break;default:r=j(i,t,n);break;}break;case'object':switch(true){case t===null:r=e(i,n);break;case t instanceof V:r=t.validate(i,n);break;case Array.isArray(t):r=c(i,t,n);break;default:r=d(i,t,n);break;}break;case'function':r=h(i,t,n);break;case'undefined':r=e(i,n);break;default:r=j(i,t,n);break;}return r;};C.arrayType=function(i,n){return new A(i,n);};C.and=function(){return new k(arguments);};C.classType=function(i){return new l(i);};C.enumType=function(i){return new E(arguments);};C.htmlElementType=function(n){var r={nodeType:1};if(typeof n=='string'){r.nodeName=n.toUpperCase();}return r;};C.regexType=function(r){return new R(r);};C.dataType=function(D){if(window.jQuery&&jQuery.sap){jQuery.sap.require('sap.ui.base.DataType');jQuery.sap.declare(D);var t=sap.ui.base.DataType.getType(D);if(t){function i(){};i.prototype=V.prototype;var o=new i();o.validate=function(n){return!t.isValid||t.isValid(n);};return o;}}throw new Error(D+' is not a defined type');};C.createDataType=function(D,o){if(window.jQuery&&jQuery.sap){jQuery.sap.require('sap.ui.base.DataType');jQuery.sap.declare(D);var t=sap.ui.base.DataType.createType(D,{isValid:function(i){return u.validate(i,o);}});jQuery.sap.setObject(D,t);return t;}throw new Error('ui5 not found');};C.createEnum=function(D,o){if(window.jQuery&&jQuery.sap){jQuery.sap.declare(D);jQuery.sap.require('sap.ui.base.DataType');sap.ui.base.DataType.createType(D,{isValid:function(i){return typeof o[i]!='undefined';}});jQuery.sap.setObject(D,o);return o;}throw new Error('ui5 not found');};function a(o,i){var n=s({},o||{});if(i){for(var q in i){if(!o||typeof o[q]=='undefined'){n[q]=i[q];}}}return n;}function V(){throw new Error('Do not directly instantiate.');}V.prototype.validate=function(i,n){throw new Error("A validator must implement the validate function!");};C.ValidatorType=V;function b(o){if(typeof o=='object'&&!Array.isArray(o)){var n=[Date];for(var i=0;i<n.length;i++){if(o instanceof n[i]){return false;}}return true;}return false;}function v(o,i,n){return C.validate(a(o,i),n);}function c(i,n,o){var r=false;for(var q=0;q<n.length;q++){if(C.validate(i,n[q],o)){r=true;}}return r;}function d(i,o,n){var r=true;if(typeof i=='object'&&i!==null){for(var q in o){var t=n&&[];if(!C.validate(i[q],o[q],t)){r=false;n&&t.forEach(function(w){n.push(['[Invalid Object Attribute] Attribute: ',q,', Object: ',i,': '].concat(w));});}}}else{r=false;n&&n.push(['Invalid object, expected: A non-null object, found: ',i]);}return r;}function e(i,n){if(i===null||i===undefined){return true;}else{n&&n.push(['Invalid undefined, expected either null or undefined, found: ',i]);return false;}}function f(i,n){if(i!==null&&i!==undefined){return true;}else{n&&n.push(['Invalid required value, expected anything not null or undefined, found: ',i]);return false;}}function g(i,t,n){if(typeof i===t){return true;}else{n&&n.push(['Invalid type, expected: ',t,', found: ',typeof i,', value: ',i]);return false;}}function h(i,n,o){if(i instanceof n){return true;}else{o&&o.push(['Invalid value with wrong type, expected an object of type: ',n.name,', but found this value: ',i]);}}function j(i,t,n){var r=i===t;if(!r){n&&n.push(['Invalid exact, expected: ',t,', value: ',i]);}return r;}function A(i,n){this.subType=i;this.minCount=n||0;}m(A,V,{validate:function(i,n){var r=Array.isArray(i);if(r){r=i.length>=this.minCount;if(r){if(this.subType!==undefined){i.forEach(function(o,q){var t=n&&[];if(!C.validate(o,this.subType,t)){r=false;n&&n.push(['Invalid array element at position: ',q,'.']);n&&t.forEach(function(w){n.push(['[Array Element Error] '].concat(w));});}},this);}}else{n&&n.push(['Invalid array, expected: at least ',this.minCount,' item(s), found: ',i.length,' item(s)'])}}else{n&&n.push(['Invalid array, expected: array, found: ',i]);}return r;}});function E(i){this.values=[];for(var n=0;n<i.length;n++){this.values.push(i[n]);}}m(E,V,{validate:function(i,n){var r=false;for(var o=0;o<this.values.length;o++){if(this.values[o]===i){r=true;break;}}if(!r){n&&n.push(['Invalid enum, expected: one of ',this.values,', found: ',i]);}return r;}});function R(r){if(typeof r=='string'){this._regex=new RegExp(r);}else if(r instanceof RegExp){this._regex=r;}else{throw new Error("RegexType: you must pass a string or a RegExp object");}}m(R,V,{validate:function(i,n){var o=false;if(typeof i=='string'){o=this._regex.test(i);if(!o){n&&n.push(['Invalid regex value, expected: matches ',this._regex,', found: ',i]);}}else{n&&n.push(['Invalid regex value, expected: a string, found: ',i]);}return o;}});function k(i){this._args=Array.prototype.slice.call(i,0);}m(k,V,{validate:function(n,o){var q=true;for(var i=0;i<this._args.length;i++){q=C.validate(n,this._args[i],o)&&q;}return q;}});function l(i){this._class=i;}m(l,V,{validate:function(i,n){var o=false;if(i&&i.prototype){function t(){};t.prototype=i.prototype;o=new t()instanceof this._class;}if(!o){n.push(['Invalid constructor, expected constructor extending: ',this._class,', found: ',i]);}return o;}});function m(i,n,o){function P(){}P.prototype=n.prototype;var q=new P();for(var r in o){q[r]=o[r];}i.prototype=q;}function s(o,O){if(window.juic&&juic.set){return juic.set(o,O);}else if(window.jQuery){return jQuery.extend(o,O);}else{throw new Error('[Config] Requires jQuery or juic');}}$.sap.setObject('sap.sf.surj.shell.util.Config',C);return C;});
