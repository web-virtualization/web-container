jQuery.sap.declare("sap.sf.surj.shell.controls.NotificationWrapper");jQuery.sap.require("sap.sf.surj.shell.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.sf.surj.shell.controls.NotificationWrapper",{metadata:{library:"sap.sf.surj.shell"}});sap.ui.define('sap/sf/surj/shell/controls/NotificationWrapper',['jquery.sap.global','sap/ui/core/Control'],function($,C){'use strict';var c=sap.ui.getCore();var r=c.getLibraryResourceBundle('sap.sf.surj.shell.i18n');return C.extend('sap.sf.surj.shell.controls.NotificationWrapper',{metadata:{properties:{text:'string'},aggregations:{content:{type:'sap.ui.core.Control',multiple:false}}},renderer:function(R,o){R.write('<div');R.writeControlData(o);R.addClass('surjNotificationWrapper');R.writeClasses();R.write('>');var a=o.getContent();if(a){R.renderControl(a);}R.write('</div>');},onAfterRendering:function(){this._updateNotificationText();},_updateNotificationText:function(){var t=this.getText();var e=this.$();if(e&&e.length>0){var a=e.find('.surjNotificationText');if(a.length>0){if(t){a.text(t);}else{a.remove();}}else if(t){var b=$('<div class="surjNotificationText globalHeaderAlertBadge"></div>').text(t);var d=e.find('button');if(d.length>0){d.append(b);var i=parseInt(t?t:0,10)||0;var T;if(i===0){T=r.getText('HOME_Todo_MSG_ALL_COMPLETED');}else{T=(i===1?r.getText('COMMON_You_Have_Todos_SINGULAR'):r.getText('COMMON_You_Have_Todos_PLURAL',[i]));}d.find('#globalTodos-tooltip').text(T);}else{e.append(b);}}}},setContent:function(o){this.setAggregation('content',o);o.addEventDelegate({onAfterRendering:$.proxy(this._updateNotificationText,this)});},setText:function(t){this.setProperty('text',t,true);this._updateNotificationText();}});});
